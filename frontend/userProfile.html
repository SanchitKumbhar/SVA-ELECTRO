<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Profile - Spotify Theme</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #121212 0%, #1a1a1a 100%);
            color: #ffffff;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar Navigation */
        .sidebar {
            width: 280px;
            background: #000000;
            padding: 2rem 0;
            position: fixed;
            height: 100vh;
            overflow-y: auto;
            border-right: 1px solid #333;
        }

        .sidebar h2 {
            color: #1DB954;
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 2rem;
            padding: 0 1.5rem;
        }

        .nav-item {
            display: flex;
            align-items: center;
            padding: 1rem 1.5rem;
            color: #b3b3b3;
            text-decoration: none;
            transition: all 0.3s ease;
            cursor: pointer;
            border: none;
            background: none;
            width: 100%;
            text-align: left;
            font-size: 1rem;
        }

        .nav-item:hover, .nav-item.active {
            color: #ffffff;
            background: #1a1a1a;
        }

        .nav-item.active {
            border-right: 3px solid #1DB954;
        }

        .nav-icon {
            width: 24px;
            height: 24px;
            margin-right: 1rem;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            margin-left: 280px;
            padding: 2rem;
        }

        .profile-header {
            display: flex;
            align-items: center;
            margin-bottom: 3rem;
            padding: 2rem;
            background: linear-gradient(135deg, #1DB954 0%, #1ed760 100%);
            border-radius: 12px;
            box-shadow: 0 8px 32px rgba(29, 185, 84, 0.3);
        }

        .profile-avatar {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: #333;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 2rem;
            font-size: 3rem;
            color: #1DB954;
            border: 4px solid #ffffff;
        }

        .profile-info h1 {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
            color: #000;
        }

        .profile-role {
            background: rgba(0, 0, 0, 0.2);
            color: #000;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-weight: 600;
            display: inline-block;
        }

        /* Form Sections */
        .form-section {
            background: #181818;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            border: 1px solid #333;
        }

        .form-section h3 {
            color: #1DB954;
            font-size: 1.25rem;
            margin-bottom: 1.5rem;
            font-weight: 600;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group label {
            color: #b3b3b3;
            font-size: 0.875rem;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }

        .form-group input,
        .form-group textarea {
            background: #121212;
            border: 2px solid #333;
            border-radius: 8px;
            padding: 0.75rem;
            color: #ffffff;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #1DB954;
            box-shadow: 0 0 0 3px rgba(29, 185, 84, 0.1);
        }

        .form-group textarea {
            resize: vertical;
            min-height: 100px;
        }

        .form-group input:read-only {
            background: #0a0a0a;
            border-color: #222;
            color: #888;
        }

        /* Buttons */
        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .btn-primary {
            background: #1DB954;
            color: #000;
        }

        .btn-primary:hover {
            background: #1ed760;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(29, 185, 84, 0.3);
        }

        .btn-secondary {
            background: #333;
            color: #fff;
        }

        .btn-secondary:hover {
            background: #444;
        }

        .btn-danger {
            background: #e22134;
            color: #fff;
        }

        .btn-danger:hover {
            background: #ff4757;
        }

        .action-buttons {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
            flex-wrap: wrap;
        }

        /* Hidden sections */
        .hidden {
            display: none;
        }

        /* Password section */
        .password-section {
            background: #1a1a1a;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .sidebar {
                width: 100%;
                height: auto;
                position: relative;
            }

            .main-content {
                margin-left: 0;
                padding: 1rem;
            }

            .profile-header {
                flex-direction: column;
                text-align: center;
            }

            .profile-avatar {
                margin-right: 0;
                margin-bottom: 1rem;
            }

            .form-grid {
                grid-template-columns: 1fr;
            }

            .action-buttons {
                flex-direction: column;
            }

            .container {
                flex-direction: column;
            }
        }

        /* Smooth transitions */
        .form-group input,
        .form-group textarea {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .form-section {
            transition: all 0.3s ease;
        }

        /* Success message */
        .success-message {
            background: #1DB954;
            color: #000;
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            font-weight: 600;
            text-align: center;
            opacity: 0;
            transform: translateY(-10px);
            transition: all 0.3s ease;
        }

        .success-message.show {
            opacity: 1;
            transform: translateY(0);
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Sidebar Navigation -->
        <nav class="sidebar">
            <h2>Profile</h2>
            <button class="nav-item active" onclick="showSection('profile')">
                <svg class="nav-icon" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                </svg>
                My Profile
            </button>
            <button class="nav-item" onclick="showSection('password')">
                <svg class="nav-icon" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"/>
                </svg>
                Change Password
            </button>
            <button class="nav-item" onclick="showSection('settings')">
                <svg class="nav-icon" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.82,11.69,4.82,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z"/>
                </svg>
                Settings
            </button>
            <hr style="border: none; border-top: 1px solid #333; margin: 1rem 0;">
            <button class="nav-item" onclick="logout()">
                <svg class="nav-icon" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"/>
                </svg>
                Logout
            </button>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <div id="successMessage" class="success-message">
                Changes saved successfully!
            </div>

            <!-- Profile Section -->
            <section id="profileSection">
                <!-- Profile Header -->
                <div class="profile-header">
                    <div class="profile-avatar" id="profileAvatar">👤</div>
                    <div class="profile-info">
                        <h1 id="profileName">John Doe</h1>
                        <span class="profile-role" id="profileRole">Client User</span>
                    </div>
                </div>

                <!-- Dynamic Profile Form -->
                <div id="profileForm" class="form-section">
                    <h3 id="formTitle">👤 Personal Information</h3>
                    <div class="form-grid" id="formFields">
                        <!-- Fields will be dynamically populated based on user role -->
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="action-buttons">
                    <button class="btn btn-primary" onclick="saveChanges()">
                        <svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"/>
                        </svg>
                        Save Changes
                    </button>
                    <button class="btn btn-secondary" onclick="cancelChanges()">
                        <svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"/>
                        </svg>
                        Cancel
                    </button>
                </div>
            </section>

            <!-- Password Section -->
            <section id="passwordSection" class="hidden">
                <div class="form-section password-section">
                    <h3>🔒 Change Password</h3>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="currentPassword">Current Password</label>
                            <input type="password" id="currentPassword" placeholder="Enter current password">
                        </div>
                        <div class="form-group">
                            <label for="newPassword">New Password</label>
                            <input type="password" id="newPassword" placeholder="Enter new password">
                        </div>
                        <div class="form-group">
                            <label for="confirmPassword">Confirm New Password</label>
                            <input type="password" id="confirmPassword" placeholder="Confirm new password">
                        </div>
                    </div>
                    <div class="action-buttons">
                        <button class="btn btn-primary" onclick="changePassword()">
                            <svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                            </svg>
                            Update Password
                        </button>
                        <button class="btn btn-secondary" onclick="clearPasswordFields()">
                            <svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/>
                            </svg>
                            Clear
                        </button>
                    </div>
                </div>
            </section>

            <!-- Settings Section -->
            <section id="settingsSection" class="hidden">
                <div class="form-section">
                    <h3>⚙️ Account Settings</h3>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="language">Language</label>
                            <select id="language" style="background: #121212; border: 2px solid #333; border-radius: 8px; padding: 0.75rem; color: #ffffff; font-size: 1rem;">
                                <option value="en">English</option>
                                <option value="es">Spanish</option>
                                <option value="fr">French</option>
                                <option value="de">German</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="timezone">Timezone</label>
                            <select id="timezone" style="background: #121212; border: 2px solid #333; border-radius: 8px; padding: 0.75rem; color: #ffffff; font-size: 1rem;">
                                <option value="EST">Eastern Time</option>
                                <option value="PST">Pacific Time</option>
                                <option value="GMT">Greenwich Mean Time</option>
                                <option value="CET">Central European Time</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label style="display: flex; align-items: center; gap: 0.5rem;">
                                <input type="checkbox" id="notifications" checked style="accent-color: #1DB954;">
                                Email Notifications
                            </label>
                        </div>
                        <div class="form-group">
                            <label style="display: flex; align-items: center; gap: 0.5rem;">
                                <input type="checkbox" id="twoFactor" style="accent-color: #1DB954;">
                                Two-Factor Authentication
                            </label>
                        </div>
                    </div>
                    <div class="action-buttons">
                        <button class="btn btn-primary" onclick="saveSettings()">
                            <svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"/>
                            </svg>
                            Save Settings
                        </button>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script>
        // Simulated user data - in a real app, this would come from the server/session
        const currentUser = {
            role: 'client', // This would be determined from login session
            data: {
                client: {
                    name: "John Doe",
                    email: "john.doe@example.com",
                    phone: "+1 (555) 123-4567",
                    address: "123 Main St, City, State",
                    avatar: "👤",
                    role: "Client User"
                },
                business: {
                    name: "Tech Solutions Inc.",
                    email: "contact@techsolutions.com",
                    phone: "+1 (555) 987-6543",
                    address: "456 Business Ave, Suite 100, Enterprise City, State 12345",
                    regNo: "REG123456789",
                    avatar: "🏢",
                    role: "Business User"
                },
                government: {
                    name: "Department of Technology",
                    email: "admin@government.gov",
                    department: "Department of Technology",
                    govId: "GOV-TECH-2024",
                    region: "Federal District",
                    avatar: "🏛️",
                    role: "Government User"
                }
            }
        };

        let originalData = {};

        // Field configurations for each role
        const roleFields = {
            client: [
                { id: 'name', label: 'Full Name', type: 'text', key: 'name' },
                { id: 'email', label: 'Email Address', type: 'email', key: 'email' },
                { id: 'phone', label: 'Phone Number', type: 'tel', key: 'phone' },
                { id: 'address', label: 'Address', type: 'text', key: 'address' }
            ],
            business: [
                { id: 'businessName', label: 'Business Name', type: 'text', key: 'name' },
                { id: 'businessEmail', label: 'Business Email', type: 'email', key: 'email' },
                { id: 'businessRegNo', label: 'Business Registration No.', type: 'text', key: 'regNo' },
                { id: 'businessPhone', label: 'Phone Number', type: 'tel', key: 'phone' },
                { id: 'businessAddress', label: 'Business Address', type: 'textarea', key: 'address' }
            ],
            government: [
                { id: 'govEmail', label: 'Government Email', type: 'email', key: 'email' },
                { id: 'govDepartment', label: 'Department Name', type: 'text', key: 'department' },
                { id: 'govId', label: 'Government ID Code', type: 'text', key: 'govId' },
                { id: 'govRegion', label: 'Region/State', type: 'text', key: 'region' }
            ]
        };

        const roleTitles = {
            client: '👤 Personal Information',
            business: '🏢 Business Information',
            government: '🏛️ Government Information'
        };

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            initializeProfile();
            storeOriginalData();
        });

        // Initialize profile based on current user role
        function initializeProfile() {
            const userData = currentUser.data[currentUser.role];
            
            // Update profile header
            document.getElementById('profileAvatar').textContent = userData.avatar;
            document.getElementById('profileName').textContent = userData.name;
            document.getElementById('profileRole').textContent = userData.role;
            
            // Update form title
            document.getElementById('formTitle').textContent = roleTitles[currentUser.role];
            
            // Generate form fields
            generateFormFields();
            
            // Populate form with data
            populateForm();
        }

        // Generate form fields based on user role
        function generateFormFields() {
            const formFields = document.getElementById('formFields');
            const fields = roleFields[currentUser.role];
            
            formFields.innerHTML = '';
            
            fields.forEach(field => {
                const formGroup = document.createElement('div');
                formGroup.className = 'form-group';
                
                if (field.type === 'textarea') {
                    formGroup.innerHTML = `
                        <label for="${field.id}">${field.label}</label>
                        <textarea id="${field.id}" rows="4"></textarea>
                    `;
                } else {
                    formGroup.innerHTML = `
                        <label for="${field.id}">${field.label}</label>
                        <input type="${field.type}" id="${field.id}">
                    `;
                }
                
                // Special styling for business address
                if (field.id === 'businessAddress') {
                    formGroup.style.gridColumn = '1 / -1';
                }
                
                formFields.appendChild(formGroup);
            });
        }

        // Populate form fields with user data
        function populateForm() {
            const userData = currentUser.data[currentUser.role];
            const fields = roleFields[currentUser.role];
            
            fields.forEach(field => {
                const element = document.getElementById(field.id);
                if (element && userData[field.key]) {
                    element.value = userData[field.key];
                }
            });
        }

        // Store original data for cancel functionality
        function storeOriginalData() {
            originalData = JSON.parse(JSON.stringify(currentUser.data[currentUser.role]));
        }

        // Save changes
        function saveChanges() {
            const userData = currentUser.data[currentUser.role];
            const fields = roleFields[currentUser.role];
            
            // Update user data with form values
            fields.forEach(field => {
                const element = document.getElementById(field.id);
                if (element) {
                    userData[field.key] = element.value;
                }
            });
            
            // Update profile header name
            document.getElementById('profileName').textContent = userData.name || userData.department;
            
            // Show success message
            showSuccessMessage();
            
            // Store new original data
            storeOriginalData();
            
            console.log('Profile updated:', userData);
        }

        // Cancel changes
        function cancelChanges() {
            currentUser.data[currentUser.role] = JSON.parse(JSON.stringify(originalData));
            populateForm();
            document.getElementById('profileName').textContent = currentUser.data[currentUser.role].name || currentUser.data[currentUser.role].department;
        }

        // Show success message
        function showSuccessMessage() {
            const message = document.getElementById('successMessage');
            message.classList.add('show');
            setTimeout(() => {
                message.classList.remove('show');
            }, 3000);
        }

        // Change password
        function changePassword() {
            const currentPassword = document.getElementById('currentPassword').value;
            const newPassword = document.getElementById('newPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            
            if (!currentPassword || !newPassword || !confirmPassword) {
                alert('Please fill in all password fields.');
                return;
            }
            
            if (newPassword !== confirmPassword) {
                alert('New passwords do not match.');
                return;
            }
            
            if (newPassword.length < 8) {
                alert('Password must be at least 8 characters long.');
                return;
            }
            
            // Simulate password change
            console.log('Password changed successfully');
            showSuccessMessage();
            clearPasswordFields();
        }

        // Clear password fields
        function clearPasswordFields() {
            document.getElementById('currentPassword').value = '';
            document.getElementById('newPassword').value = '';
            document.getElementById('confirmPassword').value = '';
        }

        // Save settings
        function saveSettings() {
            const language = document.getElementById('language').value;
            const timezone = document.getElementById('timezone').value;
            const notifications = document.getElementById('notifications').checked;
            const twoFactor = document.getElementById('twoFactor').checked;
            
            console.log('Settings saved:', {
                language,
                timezone,
                notifications,
                twoFactor
            });
            
            showSuccessMessage();
        }

        // Show section
        function showSection(sectionName) {
            // Remove active class from all nav items
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // Add active class to clicked nav item
            event.target.classList.add('active');
            
            // Hide all sections
            document.getElementById('profileSection').classList.add('hidden');
            document.getElementById('passwordSection').classList.add('hidden');
            document.getElementById('settingsSection').classList.add('hidden');
            
            // Show selected section
            document.getElementById(sectionName + 'Section').classList.remove('hidden');
        }

        // Logout function
        function logout() {
            if (confirm('Are you sure you want to logout?')) {
                // Simulate logout
                alert('Logged out successfully! Redirecting to login page...');
                // In a real app, you would redirect to login page
                console.log('User logged out');
            }
        }

        // Add smooth scroll behavior and enhanced interactions
        document.addEventListener('DOMContentLoaded', function() {
            // Add smooth transitions to form inputs
            const inputs = document.querySelectorAll('input, textarea, select');
            inputs.forEach(input => {
                input.addEventListener('focus', function() {
                    this.style.transform = 'scale(1.02)';
                });
                
                input.addEventListener('blur', function() {
                    this.style.transform = 'scale(1)';
                });
            });
            
            // Add hover effects to buttons
            const buttons = document.querySelectorAll('.btn');
            buttons.forEach(button => {
                button.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-2px)';
                });
                
                button.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0)';
                });
            });
        });

        // Demo function to simulate different user roles (for testing)
        function simulateUserRole(role) {
            currentUser.role = role;
            initializeProfile();
            storeOriginalData();
        }

        // Uncomment these lines to test different roles:
        // simulateUserRole('business');
        // simulateUserRole('government');
    </script>
</body>
</html>